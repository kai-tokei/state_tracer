# StateTracer

**StateTracer**は、有限オートマトン（Finite Automaton）を解析するためのツールです。グラフデータを基に状態遷移を実行し、入力記号列の受容可否を判定します。また、状態遷移履歴をCSV形式で出力します。

## 機能
1. グラフデータの読み込み
2. 入力記号列に基づく状態遷移の実行
3. 入力列の受容可否判定
4. 遷移履歴をCSV形式で出力

## 入力データ形式

### グラフデータ（`sub_graph.txt`）
以下の形式で記述されたファイルを読み込みます：

```
N (頂点数)
sigma (期待される記号数)
(1番目の頂点のsigma[0]への遷移先ID)
(1番目の頂点のsigma[1]への遷移先ID)
...
(n番目の頂点のsigma[0]への遷移先ID)
(n番目の頂点のsigma[1]への遷移先ID)
...
(1番目の頂点の出力記号)
(n番目の頂点の出力記号)
```

#### 入力データ例：
以下は4つの頂点を持つ有限オートマトンの例です：

```
4
2
1 2
3 0
0 1
2 3
1
0
1
0
```

- **N = 4**: 頂点数は4。
- **sigma = 2**: 期待される入力記号は`0`と`1`。
- 遷移例:
  - 頂点0: `0`で頂点1、`1`で頂点2に遷移。
  - 頂点1: `0`で頂点3、`1`で頂点0に遷移。
- **出力記号**: 頂点0と2は`1`を出力、頂点1と3は`0`を出力。

---

## 使用方法

### 1. プログラムのコンパイル
以下のコマンドでコンパイルします：

```bash
g++ -o StateTracer main.cpp vertex.cpp utils.cpp
```

### 2. プログラムの実行
以下のコマンドで実行します：

```bash
./StateTracer <入力記号列> [受理条件]
```

- `<入力記号列>`: 入力する記号列（例: `1011`）
- `[受理条件]` (任意): 受容条件となる出力記号（デフォルトは`1`）

### 実行例

例1: デフォルトの受理条件`1`で入力記号列`1011`を解析
```bash
./StateTracer 1011
```

例2: 受理条件を`0`に変更して解析
```bash
./StateTracer 1011 0
```

---

## 出力

### 標準出力
- **Accepted!!**: 入力記号列が受理された場合。
- **Rejected!!**: 入力記号列が受理されなかった場合。

### 遷移履歴（`table.csv`）
遷移履歴がCSV形式で出力されます。

#### CSV出力例：
```
Q,sigma,delta,
q0,1,q2
q2,0,q1
q1,1,q0
q0,1,q2
```

---

## プログラム構成
- `main.cpp` : プログラムのエントリーポイント。
- `vertex.cpp` : 頂点とその遷移を表すクラスの実装。
- `utils.cpp` : グラフデータの読み込みなどの補助機能。

---

## 注意事項
1. グラフデータファイル`sub_graph.txt`を正しい形式で記述してください。
2. 入力記号列に含まれる記号は、グラフデータで定義された記号と一致している必要があります。
3. CSV出力先`table.csv`は、同名のファイルが存在する場合に上書きされます。

---

## ライセンス
StateTracerはMITライセンスのもとで公開されています。詳細は`LICENSE`ファイルを参照してください。
